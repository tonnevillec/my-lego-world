{% extends 'base.html.twig' %}

{% block title %}{{ 'register.title'|trans|capitalize }}{% endblock %}

{% block css_page %}css_register{% endblock %}

{% block body %}
    <div class="container has-text-centered">
        <div class="column is-6 is-offset-3">
            <h3 class="title has-text-white">{{ 'register.title'|trans|capitalize }}</h3>
            <hr class="login-hr">
            <p class="subtitle has-text-white">{{ 'register.subtitle'|trans|capitalize }}</p>
            <div class="box">
                <figure class="avatar">
                    {% set v_rand = 'build/images/lego_face_' ~ random(1,4) ~ '.png' %}
                    <img src="{{ asset(v_rand) }}" alt="Lego face">
                </figure>

                {{ form_start(form) }}
                    {% if error %}
                        <div class="notification is-warning">
                            <button class="delete"></button>
                            {{ error.messageKey|trans(error.messageData, 'security') }}
                        </div>
                    {% endif %}

                    <div class="field">
                        <div class="control">
                            {{ form_widget(form.username, {
                                'attr': {
                                    'class': 'input is-large',
                                    'id': 'inputUsername',
                                }})
                            }}
                        </div>
                        <div class="help is-danger">{{ form_errors(form.username) }}</div>
                    </div>

                    <div class="field">
                        <div class="control">
                            {{ form_widget(form.email, {
                                'attr': {
                                    'class': 'input is-large',
                                    'id': 'inputEmail',
                                }})
                            }}
                        </div>
                        <div class="help is-danger">{{ form_errors(form.email) }}</div>
                    </div>

                    <div class="field">
                        <div class="control">
                            {{ form_widget(form.password, {
                                'attr': {
                                    'class': 'input is-large',
                                    'id': 'inputPassword',
                                }})
                            }}
                        </div>
                        <div class="help is-danger">{{ form_errors(form.password) }}</div>
                    </div>

                    <div class="field">
                        <div class="control">
                            {{ form_widget(form.password_repeat, {
                                'attr': {
                                    'class': 'input is-large',
                                    'id': 'inputPasswordRepeat',
                                }})
                            }}
                        </div>
                        <div class="help is-danger">{{ form_errors(form.password_repeat) }}</div>
                    </div>

                    <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}" >

                    <button type="submit" class="button is-block is-info is-large is-fullwidth">{{ 'login.btn_signup'|trans|capitalize }} <i class="fas fa-sign-in-alt" aria-hidden="true"></i></button>
                {{ form_end(form) }}
            </div>
            <p class="has-text-white">
                <a href="{{ path('app_login') }}">{{ 'login.sign_in'|trans|capitalize }}</a> &nbsp;·&nbsp;
                <a href="../">{{ 'login.forgot_password'|trans|capitalize }}</a> &nbsp;·&nbsp;
                <a href="../">{{ 'login.need_help'|trans|capitalize }}?</a>
            </p>
        </div>
    </div>
{% endblock %}
